<% options.forEach((option) => { %>
<div class="votes-options" id="option-<%= option.id %>">
  <h1><%= option.text %></h1>
</div>
<div class="votes-options" id="vote-count-<%= option.id %>">
  <h1><%= option.no_votes %> votes</h1>
</div>
<% }) %>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();
  socket.on("connect", () => {
    console.log("Socket.IO connected");
  });
  socket.on("voteUpdate", (updatedOption) => {
    console.log(updatedOption);
    const optionElement = document.querySelector(`#option-${updatedOption.id}`);
    const voteCountElement = document.querySelector(`#vote-count-${updatedOption.id}`);

    if (optionElement && voteCountElement) {
      voteCountElement.querySelector("h1").textContent = `${updatedOption.no_votes} votes`;
    }
  });
</script>
